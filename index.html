<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hardware Master Test - ANH DUY TECH</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* PHẦN GIAO DIỆN CHUNG */
        body { background: #0f172a; color: white; font-family: 'Segoe UI', sans-serif; height: 100vh; overflow: hidden; margin:0; display: flex; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .nav-item { transition: 0.3s; cursor: pointer; padding: 0.8rem 1.2rem; display: flex; align-items: center; border-radius: 12px; margin-bottom: 0.5rem; font-size: 13px; font-weight: 600; color: #94a3b8; }
        .nav-item:hover { background: rgba(59, 130, 246, 0.1); color: #3b82f6; }
        .nav-item.active { background: #3b82f6 !important; color: white !important; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3); }

        /* HIỆU ỨNG KHI PHÍM HOẶC CHUỘT ĐÃ ĐƯỢC TEST (SÁNG LÊN) */
        .passed { background: #10b981 !important; color: white !important; border-color: #34d399 !important; box-shadow: 0 0 10px rgba(16, 185, 129, 0.5); }
        .key-pressed { background: #3b82f6 !important; color: white !important; transform: scale(0.9); }

        /* ĐỒ HỌA LAYOUT BÀN PHÍM */
        .kb-master-wrapper { background: #111827; padding: 20px; border-radius: 1.5rem; border: 3px solid #334155; display: flex; gap: 15px; zoom: 0.72; margin-bottom: 20px; }
        .key-group { display: flex; flex-direction: column; gap: 5px; }
        .row { display: flex; gap: 5px; }
        .key { background: #1e293b; color: #94a3b8; font-size: 10px; font-weight: bold; width: 42px; height: 42px; display: flex; align-items: center; justify-content: center; border-radius: 6px; border: 1px solid #334155; text-transform: uppercase; transition: 0.1s; pointer-events: none; }
        
        /* ĐỒ HỌA CHUỘT VÀ Ô CUỘN */
        .mouse-wrapper { background: #111827; padding: 15px 30px; border-radius: 1.5rem; border: 2px solid #1e293b; display: flex; gap: 40px; align-items: center; zoom: 0.85; }
        .mouse-btn { width: 80px; height: 45px; display: flex; align-items: center; justify-content: center; background: #1e293b; border: 1px solid #334155; border-radius: 10px; color: #64748b; font-weight: bold; font-size: 10px; transition: 0.2s; }
        .scroll-unit { width: 60px; height: 45px; background: #1e293b; border: 1px solid #334155; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: bold; color: #64748b; transition: 0.2s; }

        .test-section { display: none; height: 100%; width: 100%; animation: fadeIn 0.3s ease-out; flex-direction: column; align-items: center; justify-content: center; }
        .test-section.active { display: flex !important; }
        #screen-overlay { display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 9999; cursor: pointer; }
    </style>
</head>
<body class="p-4 gap-4" oncontextmenu="return false;">

    <div class="w-64 glass rounded-3xl p-6 flex flex-col shadow-2xl">
        <div class="mb-6 text-center">
            <h1 class="text-xl font-black italic text-blue-400 uppercase tracking-tighter">Anh Duy Tech</h1>
            <p class="text-[9px] text-gray-500 tracking-[0.2em] mb-3 uppercase font-bold">Hardware Master</p>
            <nav class="flex-grow">
                <div onclick="showTab('keyboard')" id="m-keyboard" class="nav-item active"><i class="fas fa-keyboard w-8"></i> PHÍM & CHUỘT</div>
                <div onclick="showTab('screen')" id="m-screen" class="nav-item"><i class="fas fa-desktop w-8"></i> MÀN HÌNH</div>
            </nav>
        </div>
    </div>

    <div class="flex-1 glass rounded-3xl overflow-hidden relative">
        
        <section id="keyboard" class="test-section active" onmousedown="handleMouse(event, true)" onmouseup="handleMouse(event, false)" onwheel="handleWheel(event)">
            <div class="kb-master-wrapper">
                <div class="key-group">
                    <div class="row"><div class="key" id="key-Escape">Esc</div><div class="key" id="key-F1">F1</div><div class="key" id="key-F2">F2</div></div>
                    <div class="row"><div class="key" id="key-KeyQ">Q</div><div class="key" id="key-KeyW">W</div><div class="key" id="key-KeyE">E</div></div>
                </div>
            </div>

            <div class="mouse-wrapper">
                <div id="mouse-0" class="mouse-btn">LEFT CLICK</div>
                <div id="mouse-1" class="mouse-btn">MIDDLE</div>
                <div id="mouse-2" class="mouse-btn">RIGHT CLICK</div>
                
                <div class="flex gap-2">
                    <div id="sc-up" class="scroll-unit">SCROLL ↑</div>
                    <div id="sc-down" class="scroll-unit">SCROLL ↓</div>
                </div>

                <button onclick="resetAll()" class="ml-auto bg-red-600 px-8 py-2 rounded-xl text-xs font-black uppercase hover:bg-red-500">Reset</button>
            </div>
        </section>

        <section id="screen" class="test-section">
             <div onclick="openScreen('#fff')" class="w-20 h-20 bg-white rounded-xl cursor-pointer"></div>
        </section>
    </div>

    <div id="screen-overlay" onclick="closeScreen()"></div>

    <script>
        // CHỨC NĂNG CHUYỂN TAB
        function showTab(id) {
            document.querySelectorAll('.test-section, .nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.getElementById('m-' + id).classList.add('active');
        }

        // CHỨC NĂNG XỬ LÝ BÀN PHÍM
        window.onkeydown = (e) => {
            if(document.getElementById('keyboard').classList.contains('active')) {
                e.preventDefault();
                const k = document.getElementById('key-' + e.code);
                if(k) k.classList.add('key-pressed');
            }
        };
        window.onkeyup = (e) => {
            const k = document.getElementById('key-' + e.code);
            if(k) { k.classList.remove('key-pressed'); k.classList.add('passed'); }
        };

        // CHỨC NĂNG XỬ LÝ CLICK CHUỘT
        function handleMouse(e, isDown) { 
            const b = document.getElementById('mouse-' + e.button); 
            if(b) {
                if(isDown) {
                    b.classList.add('key-pressed');
                } else {
                    b.classList.remove('key-pressed');
                    b.classList.add('passed'); // Giữ sáng sau khi thả chuột
                }
            }
        }

        // CHỨC NĂNG XỬ LÝ CUỘN CHUỘT (SÁNG LÊN KHI CÓ THAO TÁC)
        function handleWheel(e) { 
            e.preventDefault(); 
            const id = e.deltaY < 0 ? 'sc-up' : 'sc-down';
            const el = document.getElementById(id);
            if(el) {
                // Thêm màu xanh (passed) để xác nhận cuộn đã hoạt động
                el.classList.add('passed');
                // Hiệu ứng nháy nhẹ khi đang cuộn liên tục
                el.style.transform = 'scale(1.1)';
                setTimeout(() => el.style.transform = 'scale(1)', 100);
            }
        }

        // CHỨC NĂNG LÀM MỚI (RESET) TOÀN BỘ TRẠNG THÁI TEST
        function resetAll() {
            document.querySelectorAll('.key, .mouse-btn, .scroll-unit').forEach(el => {
                el.classList.remove('passed', 'key-pressed');
            });
        }

        // CHỨC NĂNG TEST MÀN HÌNH
        function openScreen(c) {
            const o = document.getElementById('screen-overlay');
            o.style.backgroundColor = c; o.style.display = 'block';
            if(document.documentElement.requestFullscreen) document.documentElement.requestFullscreen();
        }
        function closeScreen() {
            document.getElementById('screen-overlay').style.display = 'none';
            if(document.fullscreenElement) document.exitFullscreen();
        }
    </script>
</body>
</html>
